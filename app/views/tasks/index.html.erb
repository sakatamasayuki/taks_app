<div class ="index-wrapper">
  <h3>スケジュール一覧</h3>

  <% if flash[:notice] %>
  <p class="notice"><%= flash[:notice] %></p>
  <% end %>

  <% if flash[:alert] %>
  <p class="alert"><%= flash[:alert] %></p>
  <% end %>

    <table>
      <thead>
        <tr>
          <th>id</th>
          <th>タイトル</th>
          <th>開始日</th>
          <th>終了日</th>
          <th>終日</th>
          <th>スケジュール更新日時</th>
          <th>確認</th>
          <th>編集</th>
          <th>削除</th>
        </tr>
      </thead>
  
      <tbody>
        <% @tasks.each do |task| %>
          <tr>
            <td><%= task.id %></td>
            <td><%= task.name %></td>
            <td><%= task.begin.to_s(:date_jp) %></td>
            <td><%= task.end.to_s(:date_jp) %></td>
            <td><%= task.allday ? '○' : '' %></td>
            <td><%= task.updated_at.to_s(:datetime_jp) %></td>
            <td>
              <%= link_to "確認", task %>
            </td>
            <td>
              <%= link_to "編集", [:edit, task] %>
            </td>
            <td>
              <%= link_to "削除", task , data: {turbo_method: :delete, turbo_confirm: "本当に削除しますか？" } %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  
      <p><%= link_to "スケジュール新規登録", :new_task %></p>
</div>